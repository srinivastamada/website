(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{MjGR:function(e,n,t){"use strict";t.r(n);var l=t("8Y7J"),u=t("2Vo4"),a=t("N+K7");let o=(()=>{class e{constructor(e){this.httpService=e,this.feedData$=new u.a([])}changeFeedData(e){this.feedData$.next(e)}getCurrentFeedData(){return this.feedData$.getValue()}updateFeedData(e){let n=[];n.push(e);let t=this.getCurrentFeedData(),l=n.concat(t);this.changeFeedData(l)}deleteFeedData(e){let n=this.getCurrentFeedData();n.splice(e,1);let t=[].concat(n);this.changeFeedData(t)}feedData(e){return this.httpService.post("feed",e)}feedDelete(e){return this.httpService.post("feedDelete",e)}feedUpdate(e){return this.httpService.post("feedUpdate",e)}}return e.ngInjectableDef=l.Lb({factory:function(){return new e(l.Mb(a.a))},token:e,providedIn:"root"}),e})();var i=t("lGQG"),r=t("2g2N");class s{constructor(e,n,t){this.auth=e,this.feedSerive=n,this.toastService=t,this.postData={user_id:"",token:""}}ngOnInit(){this.auth.userData$.subscribe(e=>{this.authUser=e,this.feedData()})}feedData(){console.log(this.authUser),this.postData.user_id=this.authUser.user_id,this.postData.token=this.authUser.token,this.postData.user_id&&this.postData.token&&this.feedSerive.feedData(this.postData).subscribe(e=>{this.feedSerive.changeFeedData(e.feedData)},e=>{this.toastService.presentToast("Network Issue.")})}}class c{}var d=t("pMnS"),h=t("oBZk"),b=t("ZZ/e"),p=t("s7LF");class f{constructor(e){this.feedService=e,this.postData={feed:"",feed_id:"",lastCreated:"",token:"",user_id:""}}ngOnInit(){}feedUpdateAction(){this.postData.feed.length>0&&(this.postData.lastCreated="",this.postData.user_id=this.loginUser.user_id,this.postData.token=this.loginUser.token,this.feedService.feedUpdate(this.postData).subscribe(e=>{this.postData.feed="",this.feedService.updateFeedData(e.feedData)}))}}var g=l.ob({encapsulation:0,styles:[[""]],data:{}});function D(e){return l.Ib(0,[(e()(),l.qb(0,0,null,null,8,"ion-item",[],null,null,null,h.B,h.i)),l.pb(1,49152,null,0,b.F,[l.h,l.k,l.x],null,null),(e()(),l.qb(2,0,null,0,6,"ion-textarea",[["placeholder","Enter more information here..."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,t){var u=!0,a=e.component;return"ionBlur"===n&&(u=!1!==l.Bb(e,3)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==l.Bb(e,3)._handleInputEvent(t.target)&&u),"ngModelChange"===n&&(u=!1!==(a.postData.feed=t)&&u),u},h.J,h.q)),l.pb(3,16384,null,0,b.Ib,[l.k],null,null),l.Db(1024,null,p.c,function(e){return[e]},[b.Ib]),l.pb(5,671744,null,0,p.h,[[8,null],[8,null],[8,null],[6,p.c]],{model:[0,"model"]},{update:"ngModelChange"}),l.Db(2048,null,p.d,null,[p.h]),l.pb(7,16384,null,0,p.e,[[4,p.d]],null,null),l.pb(8,49152,null,0,b.vb,[l.h,l.k,l.x],{placeholder:[0,"placeholder"]},null),(e()(),l.qb(9,0,null,null,4,"ion-item",[],null,null,null,h.B,h.i)),l.pb(10,49152,null,0,b.F,[l.h,l.k,l.x],null,null),(e()(),l.qb(11,0,null,0,2,"ion-button",[["color","mango"],["item-end",""]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.feedUpdateAction()&&l),l},h.u,h.b)),l.pb(12,49152,null,0,b.i,[l.h,l.k,l.x],{color:[0,"color"]},null),(e()(),l.Gb(-1,0,["Update"]))],function(e,n){e(n,5,0,n.component.postData.feed),e(n,8,0,"Enter more information here..."),e(n,12,0,"mango")},function(e,n){e(n,2,0,l.Bb(n,7).ngClassUntouched,l.Bb(n,7).ngClassTouched,l.Bb(n,7).ngClassPristine,l.Bb(n,7).ngClassDirty,l.Bb(n,7).ngClassValid,l.Bb(n,7).ngClassInvalid,l.Bb(n,7).ngClassPending)})}let m=(()=>(class{constructor(e,n){this.changeDetectorRef=e,this.ngZone=n}transform(e){this.removeTimer();let n=new Date(e),t=new Date,l=Math.round(Math.abs((t.getTime()-n.getTime())/1e3)),u=Number.isNaN(l)?1e3:1e3*this.getSecondsUntilUpdate(l);this.timer=this.ngZone.runOutsideAngular(()=>"undefined"!=typeof window?window.setTimeout(()=>{this.ngZone.run(()=>this.changeDetectorRef.markForCheck())},u):null);let a=Math.round(Math.abs(l/60)),o=Math.round(Math.abs(a/60)),i=Math.round(Math.abs(o/24)),r=Math.round(Math.abs(i/30.416)),s=Math.round(Math.abs(i/365));return Number.isNaN(l)?"":l<=45?"a few seconds ago":l<=90?"a minute ago":a<=45?a+" minutes ago":a<=90?"an hour ago":o<=22?o+" hours ago":o<=36?"a day ago":i<=25?i+" days ago":i<=45?"a month ago":i<=345?r+" months ago":i<=545?"a year ago":s+" years ago"}ngOnDestroy(){this.removeTimer()}removeTimer(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)}getSecondsUntilUpdate(e){return e<60?2:e<3600?30:e<86400?300:3600}}))();class v{constructor(){}ngOnInit(){this.newTime=this.converTime(this.created)}converTime(e){return new Date(1e3*e)}}var k=l.ob({encapsulation:0,styles:[[""]],data:{}});function C(e){return l.Ib(0,[(e()(),l.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l.Gb(1,null,[" "," "])),l.Cb(131072,m,[l.h,l.x])],null,function(e,n){var t=n.component;e(n,1,0,l.Hb(n,1,0,l.Bb(n,2).transform(t.newTime)))})}var U=t("SVse"),x=t("mrSG");let M=(()=>{class e{constructor(e){this.alertController=e}presentAlertConfirm(e,n){return x.b(this,void 0,void 0,function*(){let t;const l=yield this.alertController.create({header:e,message:n,buttons:[{text:"Cancel",role:"cancel"},{text:"Okay",role:"okay"}]});return yield l.present(),yield l.onDidDismiss().then(e=>{t=e}),t})}}return e.ngInjectableDef=l.Lb({factory:function(){return new e(l.Mb(b.a))},token:e,providedIn:"root"}),e})();class w{constructor(e,n){this.feedSerivce=e,this.alertSerivce=n,this.postData={user_id:"",token:"",feed_id:""}}ngOnInit(){this.feedSerivce.feedData$.subscribe(e=>{this.feedData=e})}feedDeleteAction(e,n){this.postData.user_id=this.loginUser.user_id,this.postData.token=this.loginUser.token,this.postData.feed_id=n,this.alertSerivce.presentAlertConfirm("Delete feed","Do you want to delete this feed?").then(n=>{"okay"===n.role&&this.feedSerivce.feedDelete(this.postData).subscribe(n=>{n.success&&this.feedSerivce.deleteFeedData(e)})})}}var y=l.ob({encapsulation:0,styles:[[".right[_ngcontent-%COMP%]{float:right}.right[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333!important}"]],data:{}});function S(e){return l.Ib(0,[(e()(),l.qb(0,0,null,null,9,"ion-card",[],null,null,null,h.w,h.c)),l.pb(1,49152,null,0,b.k,[l.h,l.k,l.x],null,null),(e()(),l.qb(2,0,null,0,7,"ion-card-content",[],null,null,null,h.v,h.d)),l.pb(3,49152,null,0,b.l,[l.h,l.k,l.x],null,null),(e()(),l.qb(4,0,null,0,2,"button",[["class","right"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.feedDeleteAction(e.context.index,e.context.$implicit.feed_id)&&l),l},null,null)),(e()(),l.qb(5,0,null,null,1,"ion-icon",[["name","trash"]],null,null,null,h.z,h.g)),l.pb(6,49152,null,0,b.A,[l.h,l.k,l.x],{name:[0,"name"]},null),(e()(),l.qb(7,0,null,0,0,"p",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l.qb(8,0,null,0,1,"app-timeago",[],null,null,null,C,k)),l.pb(9,114688,null,0,v,[],{created:[0,"created"]},null)],function(e,n){e(n,6,0,"trash"),e(n,9,0,n.context.$implicit.created)},function(e,n){e(n,7,0,n.context.$implicit.feed)})}function q(e){return l.Ib(0,[(e()(),l.fb(16777216,null,null,1,null,S)),l.pb(1,278528,null,0,U.h,[l.L,l.I,l.q],{ngForOf:[0,"ngForOf"]},null)],function(e,n){e(n,1,0,n.component.feedData)},null)}var F=l.ob({encapsulation:0,styles:[[""]],data:{}});function I(e){return l.Ib(0,[(e()(),l.qb(0,0,null,null,6,"ion-header",[],null,null,null,h.y,h.f)),l.pb(1,49152,null,0,b.z,[l.h,l.k,l.x],null,null),(e()(),l.qb(2,0,null,0,4,"ion-toolbar",[],null,null,null,h.L,h.s)),l.pb(3,49152,null,0,b.zb,[l.h,l.k,l.x],null,null),(e()(),l.qb(4,0,null,0,2,"ion-title",[],null,null,null,h.K,h.r)),l.pb(5,49152,null,0,b.xb,[l.h,l.k,l.x],null,null),(e()(),l.Gb(-1,0,["Feed"])),(e()(),l.qb(7,0,null,null,9,"ion-content",[],null,null,null,h.x,h.e)),l.pb(8,49152,null,0,b.s,[l.h,l.k,l.x],null,null),(e()(),l.qb(9,0,null,0,3,"ion-item",[],null,null,null,h.B,h.i)),l.pb(10,49152,null,0,b.F,[l.h,l.k,l.x],null,null),(e()(),l.qb(11,0,null,0,1,"h2",[],null,null,null,null,null)),(e()(),l.Gb(12,null,[" Welcome to ",""])),(e()(),l.qb(13,0,null,0,1,"app-feed-update",[],null,null,null,D,g)),l.pb(14,114688,null,0,f,[o],{loginUser:[0,"loginUser"]},null),(e()(),l.qb(15,0,null,0,1,"app-feed-card",[],null,null,null,q,y)),l.pb(16,114688,null,0,w,[o,M],{loginUser:[0,"loginUser"]},null)],function(e,n){var t=n.component;e(n,14,0,t.authUser),e(n,16,0,t.authUser)},function(e,n){var t=n.component;e(n,12,0,null==t.authUser?null:t.authUser.name)})}function _(e){return l.Ib(0,[(e()(),l.qb(0,0,null,null,1,"app-feed",[],null,null,null,I,F)),l.pb(1,114688,null,0,s,[i.a,o,r.a],null,null)],function(e,n){e(n,1,0)},null)}var B=l.mb("app-feed",s,_,{},{},[]),z=t("j1ZV"),O=t("iInd");t.d(n,"FeedPageModuleNgFactory",function(){return T});var T=l.nb(c,[],function(e){return l.yb([l.zb(512,l.j,l.Y,[[8,[d.a,B]],[3,l.j],l.v]),l.zb(4608,U.j,U.i,[l.s,[2,U.p]]),l.zb(4608,p.j,p.j,[]),l.zb(4608,b.b,b.b,[l.x,l.g]),l.zb(4608,b.Db,b.Db,[b.b,l.j,l.p]),l.zb(4608,b.Gb,b.Gb,[b.b,l.j,l.p]),l.zb(1073742336,U.b,U.b,[]),l.zb(1073742336,p.i,p.i,[]),l.zb(1073742336,p.b,p.b,[]),l.zb(1073742336,b.Bb,b.Bb,[]),l.zb(1073742336,z.a,z.a,[]),l.zb(1073742336,O.p,O.p,[[2,O.u],[2,O.m]]),l.zb(1073742336,c,c,[]),l.zb(1024,O.k,function(){return[[{path:"",component:s}]]},[])])})}}]);